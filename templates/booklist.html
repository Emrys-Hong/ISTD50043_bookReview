<html>
<head>
    <title>Dashboard</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style_booklist.css') }}">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">

    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
</head>
<nav class="navbar navbar-default navbar-fixed-top">
    <a id="navbarHeader" class="navbar-brand" href="{{ url_for('dashboard') }}">
        <img src="{{ url_for('static', filename='icon.png') }}" width="30" height="30" class="d-inline-block align-top" alt=""> BookSearch </a>
    <a class="btn btn-primary" href="{{ url_for('logout') }}"> Logout </a>
</nav>
<body>
<!-- <div class="container" style="width:100%; "> -->
    <div class="card text-center" style="margin: 25px auto 25px auto; width:90%">
        <div class="card-header">Books Available

                <nav aria-label="Page navigation example">
                        <ul class="pagination" style="width:100%; overflow-x: scroll;">
                          <!-- <li class="page-item">
                            <a class="page-link" href="#" aria-label="Previous">
                              <span aria-hidden="true">&laquo;</span>
                              <span class="sr-only">Previous</span>
                            </a>
                          </li> -->
                          {% for pg_no in page_numbers %}
                            <li class="page-item"><a class="page-link" href='{{ url_for( "book_list_page" , page_num=pg_no, category="all") }}'> {{ pg_no }}</a></li>
                          {% endfor %}
                          <!-- <li class="page-item">
                            <a class="page-link" href="#" aria-label="Next">
                              <span aria-hidden="true">&raquo;</span>
                              <span class="sr-only">Next</span>
                            </a>
                          </li> -->
                        </ul>
                      </nav>

            <!-- <div class="indexes" style="overflow: scroll; height: 50; width: 100%">
                {% for pg_no in page_numbers %}
                    <a href='{{ url_for( "book_list_page" , page_num=pg_no, category="all") }}'> {{ pg_no }}</a>
                {% endfor %}
            </div> -->


        </div>

    
        <div>
            <h5>Categories</h5>

            {% for category in categories %}

                <div class="navbarx" style="display: inline; margin: 1px; padding: 0px; ">
                    <div class="dropdown">
                        <button class="dropbtn">{{ category }}
                        </button>
                        <div class="dropdown-content">
                            {% for c in categories[category] %}
                                <!-- <a href="#">{{c}}</a> -->
                                <a href='{{ url_for("book_list_page", page_num=1, category=c) }}'>{{ c }}</a>
                            {% endfor %}
                        </div>
                    </div>
                </div>

                <!-- <div class="card" style="margin:2px; display: inline;border-radius: 10px 10px 10px 10px; padding:2px;box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2); ">
                            <a href='{{ url_for("book_list_page", page_num=1, category=category) }}'>{{category}}</a>
                        </div> -->
            {% endfor %}

            <div>{{ name }}</div>
        </div>

    </div>


        <div class="card-body" style="width:100%; margin:auto; text-align: center;">
            <table class="table table-striped">
                <!-- <tr>
                    <th>#</th>
                    <th>Title</th>
                    <th>Category</th>
                    <th>ASIN</th>
                </tr> -->
                {% for result in results %}
                <div style = "padding:7px; display: inline-flex; ">
                <div class="small_card" href="{{ url_for('info', asin=result.asin) }}">
                    <img href="{{ url_for('info', asin=result.asin) }}" style="margin: auto; width:100%; height:300px; box-shadow: 0 4px 8px 0 rgba(136, 134, 134, 0.116);" src={{ result.imUrl }} >
                      <!-- <h4><b>John Doe</b></h4>  -->
                      <p style="margin: auto; padding:10px; height: 40px; width:250px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;">{{result.description}}</p> 
                    
                      <div style="height:50px; overflow-y: scroll;">
                      {% for category_list in result.categories %}
                        {% for category in category_list[1:] %}
                      
                            <span class="badge badge-light" >{{category}}</span>
                        {% endfor %}
                      {% endfor %}
                    </div>
                  </div>
                </div>
                
                    
                        <!-- <div style="display: inline-flex; height: 250px;">
                            <a style="display: inline;" > <img href="{{ url_for('info', asin=result.asin) }}" style="display: flex; width: 160px; height: 160px;"
                                                                                    src={{ result.imUrl }}>
                                <p style="display: inline-block; height: 40px; width:160px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;">{{result.description}}</p>
                                                                                
                            </a>

                        </div> -->

                {% endfor %}
            </table>
        </div>
    
</div>
</body>
</html>
